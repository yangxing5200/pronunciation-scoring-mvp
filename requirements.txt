# Core dependencies - compatible versions for Python 3.10+
# This file contains base dependencies. Use requirements-cpu.txt or requirements-cuda.txt
# for platform-specific installations.

# Web framework
streamlit>=1.31.0,<1.40.0

# Protobuf - compatible with streamlit
protobuf>=4.25.0,<5.0.0

# Numerical computing
numpy==1.26.4
scipy>=1.11.0,<1.14.0

# Audio processing
librosa>=0.10.1,<0.11.0
soundfile>=0.12.0
pydub>=0.25.0

# Speech recognition and processing
openai-whisper>=20231117
faster-whisper>=1.0.0

# WhisperX for enhanced word/phoneme-level alignment (optional but recommended)
# Provides better timestamp accuracy and character-level alignment for Chinese
# Install with: pip install git+https://github.com/m-bain/whisperX.git
# whisperx>=3.1.0

# PyTorch - base installation (CPU version)
# For GPU support, use requirements-cuda.txt instead
torch==2.2.2
torchaudio==2.2.2
torchvision==0.17.2

# Audio recording component
streamlit-audiorec>=0.0.4

# Phoneme alignment and analysis
dtw-python==1.5.1  # Compatible with numpy 1.x
praat-parselmouth>=0.4.3

# Text comparison
python-Levenshtein>=0.21.0
jiwer>=3.0.0

# Visualization
matplotlib>=3.7.0,<4.0.0

# Additional utilities
pyyaml>=6.0
transformers>=4.30.0,<4.46.0
phonemizer>=3.2.0

# Text-to-Speech (TTS)
pyttsx3>=2.90  # Offline TTS
gTTS>=2.3.0    # Online TTS fallback

# HTTP client for API requests
requests>=2.31.0

# Note: IndexTTS2 requires separate installation from GitHub
# Install with: pip install git+https://github.com/index-tts/index-tts.git
# Or clone and install manually: git clone https://github.com/index-tts/index-tts.git && cd index-tts && pip install -e .
